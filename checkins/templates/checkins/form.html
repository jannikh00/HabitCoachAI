{% extends "base.html" %}
{% include "checkins/_anchor_builder.html" %}
{% block title %}New Check-in{% endblock %}

{% block content %}
  <!-- Page heading -->
  <h1>New Check-in</h1>

  <!-- Check-in creation form -->
  <!-- 'method="post"' sends data securely; 'novalidate' disables browser-side validation -->
  <form method="post" novalidate>
    <!-- CSRF token for security -->
    {% csrf_token %}

    <!-- Display non-field-specific validation errors -->
    {{ form.non_field_errors }}

    <!-- Status selection (e.g., Active / Rest Day / Recovery) -->
    <div>
      <label for="{{ form.status.id_for_label }}">Status</label>
      {{ form.status }}
    </div>

    <!-- Mood rating input (1 = low mood, 5 = high mood) -->
    <div>
      <label for="{{ form.mood.id_for_label }}">Mood (1–5)</label>
      {{ form.mood }}
    </div>

    <!-- Optional note for additional comments or reflections -->
    <div>
      <label for="{{ form.note.id_for_label }}">Note</label>
      {{ form.note }}
    </div>

    <!-- Tags field for categorizing or filtering check-ins -->
    <div>
      <label for="{{ form.tags.id_for_label }}">Tags (comma separated)</label>
      {{ form.tags }}
    </div>

    <!-- (Ref-B) Optional HRV input (Root Mean Square of Successive Differences in ms) -->
    <!-- Supports physiological tracking in connection with HRV metrics -->
    <div>
      <label for="{{ form.hrv_rmssd.id_for_label }}">HRV RMSSD (ms)</label>
      {{ form.hrv_rmssd }}
      <small>Input optional — see info in dashboard.</small>
    </div>

    <!-- Submit button -->
    <button type="submit">Save</button>
  </form>
{% endblock %}